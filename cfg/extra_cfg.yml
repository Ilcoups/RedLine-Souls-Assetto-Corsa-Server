# Enable Steam ticket validation. Requires CSP 0.1.75+ and a recent version of Content Manager
UseSteamAuth: true
# List of DLC App IDs that are required to join. Steam auth must be enabled. Possible values: https://steamdb.info/app/244210/dlc/
ValidateDlcOwnership: []
# Enable protection against cheats/hacks. 0 = No protection. 1 = Block all public cheats as of 2023-11-18 (ClientSecurityPlugin and CSP 0.2.0+ required)
MandatoryClientSecurityLevel: 0
# Enable AFK autokick
EnableAntiAfk: true
# Maximum allowed AFK time before kick
MaxAfkTimeMinutes: 10
# Players might try to get around the AFK kick by doing inputs once in a while without actually driving. Set this to MinimumSpeed to autokick players idling
AfkKickBehavior: PlayerInput
# Maximum ping before autokick
MaxPing: 500
# Maximum ping duration before autokick
MaxPingSeconds: 10
# Kick players with packet loss higher than this percentage
KickPacketLoss: 0
# Force headlights on for all cars
ForceLights: false
# Distance for network optimizations. Players outside of this range will send less updates to reduce network traffic
NetworkBubbleDistance: 500
# Refresh rate for players outside of the network bubble
OutsideNetworkBubbleRefreshRateHz: 4
# Enable server details in CM. Required for server description
EnableServerDetails: true
# Server description shown in Content Manager
ServerDescription: |-
  Welcome to my passion project! 
  
  I've created this high-speed traffic server on Shuto Revival Project for all of you who love the thrill of street racing in beautiful conditions.
  
  What you'll find here:
  Dynamic AI traffic (up to 200 cars) that scales with players
  Only gorgeous weather - clear skies and stunning sunsets
  Fast day/night cycles so you catch those breathtaking golden hours
  Real Tokyo atmosphere with authentic time and smooth weather transitions
  
  This is my hobby and I'm sharing it with the community - come enjoy the drive!
  
  Join my Discord: https://discord.gg/YJJEGAhf ðŸ’¬
# Link server time to real map time. DISABLED so we can control day/night cycle
EnableRealTime: false
# Enable new CSP weather handling. Allows rain and smooth weather transitions. Requires CSP 0.1.76+
EnableWeatherFx: true
# Lock server date to real date. TRUE so time progresses and varies on restart!
LockServerDate: true
# Reduce track grip when the track is wet. This is much worse than proper CSP rain physics but allows you to run clients with public/Patreon CSP at the same time
RainTrackGripReductionPercent: 0
# Enable AI traffic
EnableAi: true
# List of plugins to enable
EnablePlugins:
- RandomWeatherPlugin
# Ignore some common configuration errors. More info: https://assettoserver.org/docs/common-configuration-errors
IgnoreConfigurationErrors:
  MissingCarChecksums: true
  MissingTrackParams: true
  WrongServerDetails: true
  UnsafeAdminWhitelist: true
# Allow players with missing or mismatched car data files (like data.acd)
IgnoreMissingCarData: true
# Allow players with slightly different car physics
IgnoreCarPhysicsMismatch: true
# Enable CSP client messages feature. Requires CSP 0.1.77+
EnableClientMessages: false
# Enable CSP UDP client messages feature. Required for VR head/hand syncing. Requires CSP 0.1.80+
EnableUdpClientMessages: false
# Log unknown CSP Lua client messages / online events
DebugClientMessages: true
# Enable CSP custom position updates. This is an improved version of batched position updates, reducing network traffic even further. CSP 0.1.77+ required
# DISABLED for maximum compatibility - allows CSP 0.1.60+ users to join
EnableCustomUpdate: false
# Maximum time a player can spend on the loading screen before being disconnected (INCREASED for debugging quick disconnects)
PlayerLoadingTimeoutMinutes: 10
# Maximum time the server will wait for a checksum response before disconnecting the player (INCREASED for debugging)
PlayerChecksumTimeoutSeconds: 120
# Port to control the server using Source RCON protocol. 0 to disable.
RconPort: 0
# Dump contents of welcome message and CSP extra options to a file. For debug purposes only.
DebugWelcomeMessage: true
# Anonymize player IP addresses in outputs
RedactIpAddresses: false
# Force clients to use track params (coordinates, time zone) specified on the server. CSP 0.1.79+ required
ForceServerTrackParams: false
# Allow cars to have multiple data checksums. Instead of a single checksummed data.acd, you can have multiple data*.acd files in the car folder and players can join with any of these files
EnableAlternativeCarChecksums: true
# Enable the AC UDP plugin interface compatible with Kunos acServer plugins
EnableLegacyPluginInterface: false
# Automatically configure port forwards using UPnP or NAT-PMP. Empty = Enable on Windows when lobby registration is enabled. true = Always enable, detailed error log. false = Always disable
EnableUPnP: false
# URL of custom loading screen image. Requires CSP 0.1.80+ and a recent version of Content Manager
LoadingImageUrl: 
# Name and path of file-based user groups
UserGroups:
  default_blacklist: blacklist.txt
  default_whitelist: whitelist.txt
  default_admins: admins.txt
# Name of user group to be used for blacklist
BlacklistUserGroup: default_blacklist
# Name of user group to be used for whitelist
WhitelistUserGroup: default_whitelist
# Name of user group to be used for admins
AdminUserGroup: default_admins
# List of allowed origins for Cross-Origin Resource Sharing. Use this if you want to query this server from a website
CorsAllowedOrigins: 
# Allow a user group to execute specific admin commands
UserGroupCommandPermissions: 
AiParams:
  # Radius around a player in which AI cars won't despawn
  PlayerRadiusMeters: 600
  # Offset the player radius in direction of the velocity of the player so AI cars will despawn earlier behind a player
  PlayerPositionOffsetMeters: 300
  # AFK timeout for players. Players who are AFK longer than this won't spawn AI cars
  PlayerAfkTimeoutSeconds: 10
  # Maximum distance to the AI spline for a player to spawn AI cars. This helps with parts of the map without traffic so AI cars won't spawn far away from players
  MaxPlayerDistanceToAiSplineMeters: 150
  # Minimum amount of spline points in front of a player where AI cars will spawn
  MinSpawnDistancePoints: 50
  # Maximum amount of spline points in front of a player where AI cars will spawn
  MaxSpawnDistancePoints: 800
  # Minimum distance between AI cars - tight but enough to prevent clipping
  MinAiSafetyDistanceMeters: 15
  # Maximum distance between AI cars - moderate for flow without clipping
  MaxAiSafetyDistanceMeters: 55
  # Minimum spawn distance for AI states of the same car slot. If you set this too low you risk AI states despawning or AI states becoming invisible for some players when multiple states are close together
  StateSpawnDistanceMeters: 1200
  # Minimum distance between AI states of the same car slot. If states get closer than this one of them will be forced to despawn
  MinStateDistanceMeters: 300
  # Minimum spawn distance to players - REDUCED to see traffic sooner
  SpawnSafetyDistanceToPlayerMeters: 100
  # Minimum time in which a newly spawned AI car cannot despawn
  MinSpawnProtectionTimeSeconds: 10
  # Maximum time in which a newly spawned AI car cannot despawn
  MaxSpawnProtectionTimeSeconds: 20
  # Minimum time an AI car will stop/slow down after a collision - short but not zero
  MinCollisionStopTimeSeconds: 1
  # Maximum time an AI car will stop/slow down after a collision - quick recovery
  MaxCollisionStopTimeSeconds: 2
  # Default maximum AI speed. This is not an absolute maximum and can be overridden with RightLaneOffsetKph and MaxSpeedVariationPercent
  # Base 95 kph + 18 right lane offset = 113 kph MAX (not 120!)
  MaxSpeedKph: 95
  # Speed offset for right lanes. Will be added to MaxSpeedKph - gives us 113 kph max
  RightLaneOffsetKph: 18
  # Maximum speed variation - less aggressive speed differences
  MaxSpeedVariationPercent: 0.15
  # Soft player limit, the server will stop accepting new players when this many players are reached. Use this to ensure a minimum amount of AI cars. 0 to disable.
  MaxPlayerCount: 35
  # Hide AI car nametags and make them invisible on the minimap. Broken on CSP versions < 0.1.78
  HideAiCars: true
  # Lane width for adjacent lane detection
  LaneWidthMeters: 2.2
  # Enable two way traffic. This will allow AI cars to spawn in lanes with the opposite direction of travel to the player.
  TwoWayTraffic: false
  # Enable traffic spawning if the player is driving the wrong way. Only takes effect when TwoWayTraffic is set to false.
  WrongWayTraffic: true
  # Name prefix for AI cars. Names will be in the form of '<NamePrefix> <SessionId>'
  NamePrefix: Traffic
  # Ignore obstacles for some time if the AI car is stopped for longer than x seconds - helps with stuck AI but not too aggressive
  IgnoreObstaclesAfterSeconds: 3
  # Dynamic (hourly) traffic density. List must have exactly 24 entries in the format [0.2, 0.5, 1, 0.7, ...]
  # Subtle variations: Current level = 1.0 (baseline), Day slightly more (1.1-1.15), Night still busy (0.95-1.0)
  # 00=1.0, 01=0.95, 02=0.95, 03=0.95, 04=0.95, 05=1.0, 06=1.0, 07=1.05, 08=1.1, 09=1.15, 10=1.15, 11=1.1
  # 12=1.1, 13=1.1, 14=1.1, 15=1.1, 16=1.1, 17=1.15, 18=1.15, 19=1.1, 20=1.05, 21=1.0, 22=1.0, 23=1.0
  HourlyTrafficDensity: [1.0, 0.95, 0.95, 0.95, 0.95, 1.0, 1.0, 1.05, 1.1, 1.15, 1.15, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.15, 1.15, 1.1, 1.05, 1.0, 1.0, 1.0]
  # Apply some smoothing to AI spline camber
  SmoothCamber: true
  # Show debug overlay for AI cars
  Debug: false
  # Update interval for AI spawn point finder
  AiBehaviorUpdateIntervalHz: 2
  # AI cars inside these areas will ignore all player obstacles
  IgnorePlayerObstacleSpheres: 
  # Override some settings for newly spawned cars based on the number of lanes
  # 3-lane highways PACKED, 2-lane moderate density, 1-lane fast & light
  LaneCountSpecificOverrides:
    1:
      # Single lane roads (touge, mountain) - faster, lighter traffic
      MinAiSafetyDistanceMeters: 25
      MaxAiSafetyDistanceMeters: 80
      MaxSpeedKph: 100
      RightLaneOffsetKph: 13
    2:
      # 2-lane roads (C1, city) - moderate density, need to brake enough but no clipping
      MinAiSafetyDistanceMeters: 12
      MaxAiSafetyDistanceMeters: 45
      MaxSpeedKph: 90
      RightLaneOffsetKph: 18
    3:
      # VERY DENSE on 3-lane highways (Wangan, Yokohane) - packed but no clipping through each other
      MinAiSafetyDistanceMeters: 8
      MaxAiSafetyDistanceMeters: 30
      MaxSpeedKph: 95
      RightLaneOffsetKph: 18
      # Aggressive spawning for constant traffic flow
      MinSpawnProtectionTimeSeconds: 20
      MaxSpawnProtectionTimeSeconds: 40
  # Override some settings for specific car models
  CarSpecificOverrides:
  - # Car model to match for these overrides
    Model: my_car_model
    # AI spline height offset. Use this if the AI spline is too close to the ground
    SplineHeightOffsetMeters: 0
    # AI engine idle RPM
    EngineIdleRpm: 800
    # AI engine max RPM
    EngineMaxRpm: 3000
    # AI car deceleration for obstacle/collision detection (m/s^2)
    Acceleration: 2.5
    # AI car acceleration for obstacle/collision detection (m/s^2)
    Deceleration: 8.5
    # AI cornering speed factor. Lower = AI cars will drive slower around corners.
    CorneringSpeedFactor: 0.5
    # AI cornering brake distance factor. Lower = AI cars will brake later for corners.
    CorneringBrakeDistanceFactor: 3
    # AI cornering brake force factor. This is multiplied with Deceleration. Lower = AI cars will brake less hard for corners.
    CorneringBrakeForceFactor: 0.5
    # Tyre diameter of AI cars in meters, shouldn't have to be changed unless cars are creating lots of smoke.
    TyreDiameterMeters: 0.8
    # Maximum number of AI states for a car slot of this car model
    MaxOverbooking: 1
    # Minimum time in which a newly spawned AI car cannot despawn
    MinSpawnProtectionTimeSeconds: 30
    # Maximum time in which a newly spawned AI car cannot despawn
    MaxSpawnProtectionTimeSeconds: 60
    # Minimum number of lanes needed to spawn a car of this car model
    MinLaneCount: 1
    # Maximum number of lanes needed to spawn a car of this car model
    MaxLaneCount: 2
    # Minimum time an AI car will stop/slow down after a collision
    MinCollisionStopTimeSeconds: 0
    # Maximum time an AI car will stop/slow down after a collision
    MaxCollisionStopTimeSeconds: 0
    # Length of this vehicle in front of car origin
    VehicleLengthPreMeters: 2
    # Length of this vehicle behind car origin
    VehicleLengthPostMeters: 2
    # Minimum distance between AI cars
    MinAiSafetyDistanceMeters: 20
    # Maximum distance between AI cars
    MaxAiSafetyDistanceMeters: 25
    # List of allowed lanes for this car model. Possible values Left, Middle, Right
    AllowedLanes:
    - Left
    - Middle
    - Right
  # Default AI car deceleration for obstacle/collision detection (m/s^2) - smoother braking
  DefaultDeceleration: 7
  # Default AI car acceleration for obstacle/collision detection (m/s^2) - faster recovery
  DefaultAcceleration: 4
  # Maximum AI car target count for AI slot overbooking. This is not an absolute maximum and might be slightly higher
  MaxAiTargetCount: 250
  # Number of AI cars per player the server will try to keep - INCREASED for more traffic
  AiPerPlayerTargetCount: 20
  # AI spline height offset. Use this if the AI spline is too close to the ground
  SplineHeightOffsetMeters: 0
  # AI cornering speed factor. Lower = AI cars will drive slower around corners.
  CorneringSpeedFactor: 0.7
  # AI cornering brake distance factor. Lower = AI cars will brake later for corners.
  CorneringBrakeDistanceFactor: 2.5
  # AI cornering brake force factor. This is multiplied with DefaultDeceleration. Lower = AI cars will brake less hard for corners.
  CorneringBrakeForceFactor: 0.5
  # Apply scale to some traffic density related settings. Increasing this DOES NOT magically increase your traffic density, it is dependent on your other settings. Values higher than 1 not recommended.
  TrafficDensity: 1
  # Tyre diameter of AI cars in meters, shouldn't have to be changed unless some cars are creating lots of smoke.
  TyreDiameterMeters: 0.65

---
!RandomWeatherConfiguration
# Only 4 beautiful weathers - changes every 8-15 minutes for lots of variety!
WeatherWeights:
  Clear: 1.0              # Sunny
  FewClouds: 1.0          # Light clouds
  ScatteredClouds: 1.0    # Medium clouds
  BrokenClouds: 1.0       # More clouds
  # Everything else disabled
  OvercastClouds: 0.0
  Fog: 0.0
  Mist: 0.0
  LightThunderstorm: 0.0
  Thunderstorm: 0.0
  HeavyThunderstorm: 0.0
  LightDrizzle: 0.0
  Drizzle: 0.0
  HeavyDrizzle: 0.0
  LightRain: 0.0
  Rain: 0.0
  HeavyRain: 0.0
  LightSnow: 0.0
  Snow: 0.0
  HeavySnow: 0.0
  LightSleet: 0.0
  Sleet: 0.0
  HeavySleet: 0.0
  Smoke: 0.0
  Haze: 0.0
  Sand: 0.0
  Dust: 0.0
  Squalls: 0.0
  Tornado: 0.0
  Hurricane: 0.0
  Cold: 0.0
  Hot: 0.0
  Windy: 0.0
  Hail: 0.0
MinWeatherDurationMinutes: 8
MaxWeatherDurationMinutes: 15
MinTransitionDurationSeconds: 90
MaxTransitionDurationSeconds: 150
